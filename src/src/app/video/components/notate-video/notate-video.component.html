<div class="row">
  <div #frameDiv class="col-10">

    <app-video-player 
        (videoInitialDoneEmitter)="videoInitialLoad()"
        #player
    ></app-video-player>

    <button 
        class="btn btn-primary"
        (click)="fileSelector.click()" 
        *ngIf="video && video.isLocal && !videoInitiaLoadDone"
        style="width: 100%; height: 100%"
    >Select Video</button>

  </div>
  <div class="col-sm-2 align-self-end">
    <button
        (click)="addNewNote(null, NoteType.Note)"
        class="btn btn-primary btn-block add-note" position="top">
        Add Note
    </button>

    <button
        data-tip={c.createSubNoteButtnoDataTip}
        class="btn btn-primary btn-block add-note" position="top">
        Sub Note
    </button>

    <button
        data-tip={c.createSSubNoteButtnoDataTip}
        class="btn btn-primary btn-block add-note" position="top">
        SSub Note
    </button>

    <button
        data-tip={c.createSSSubNoteButtnoDataTip}
        class="btn btn-primary btn-block add-note" position="top">
        SSSub Note
    </button>

    <button
        (click)="addNewNote(null, NoteType.TimeStamp)"
        class="btn btn-primary btn-block add-note" position="top">
        Time Stamp
    </button>

    <button
        (click)="addNewNote(null, NoteType.Topic)"
        class="btn btn-primary btn-block add-note" position="top">
        New Topic
    </button>
  </div>
</div>

<!-- NOTES -->
<ng-template ngFor let-note [ngForOf]="getRootNotes()">
    <ng-container *ngTemplateOutlet="noteRec; context: {$implicit: note}"></ng-container>
</ng-template>
<ng-template #noteRec let-note>
    <app-note [note]="note" 
        (createChildEmitter)="addNewNote($event.id, $event.type)"
        (deleteEmitter)="deleteNote($event)" 
        (seekEmitter)="seekTo($event)"
    ></app-note>
    <div class="ml-3">
        <ng-template ngFor let-note [ngForOf]="getChildNotes(note.inPageId)">
            <ng-container *ngTemplateOutlet="noteRec; context: {$implicit: note}"></ng-container>
        </ng-template>
    </div>
</ng-template>

<!-- BOTTOM)CONTROLLS -->
<div class="container-fluid mt-5 mb-4">
    <div class="row">

        <div class="col no-padding">
            <button
                (click)="addNewNote(null, NoteType.Note)"
                class="col btn btn-primary btn-block" id="go-back">
            >Add Note</button>
        </div>

        <div class="col no-padding">
                <button
                    (click)="addNewNote(null, NoteType.Note)"
                    class="col btn btn-primary btn-block" id="go-back">
                >{{pauseOrPlayName}}</button>
        </div>

        <div class="col no-padding">
            <button
            (click)="goBackToVideo()"
            class="col btn btn-primary btn-block" id="go-back"
            >Go Back</button>
        </div>

        <div class="col no-padding">
            <button
                (click)="addNewNote(null, NoteType.TimeStamp)"
                class="col btn btn-primary btn-block" id="go-back"
            >Time Stamp</button>
        </div>

        <div class="col no-padding">
            <button
                (click)="addNewNote(null, NoteType.Topic)"
                class="col btn btn-primary btn-block new-topic-button"
            >New Topic</button>
        </div>

        <!-- spacing -->
        <div class="col"></div>
        <div class="col"></div>
        <div class="col"></div>

    </div>
</div>

<input (change)="onFileSelected($event)" #fileSelector type="file" accept="video/*" hidden/>
<button class="btn btn-primary" (click)="fileSelector.click()"> Select Video</button>
<button class="btn btn-primary" (click)="save()"> Save </button>
<button class="btn btn-danger" (click)="back()"> Back </button>